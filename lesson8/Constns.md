# Константы

Продолжаем впитывать рекомендации по ясному и чистому стилю написания кода

1. Имя константы

Имя константы должно характеризовать сущность описываемого объекта, а не числовое значение константы. Также имена принято прописывать ЗАГЛАВНЫМИ_БУКВАМИ и разделять нижним подчеркиванием.

Например:

```go
// bad example ❌
var FIVE int = 5 

// good example ✅
var WALK_SPEED_KMPH int = 5
```

2. Избегайте магических чисел в коде

Если вы используете в коде какое-то число на постоянной основе для тех или иных вычислений, вам необходимо вынести его в константу (и делать со всеми такими числами), таким образом при написании и разборе кода будет больше понимания что и как вычисляется, а также, при необходимости поменять значение, вы просто можете поменять его в константе, а не искать это "магическое число" по всему коду и менять его.

Например:

```go
// bad example ❌
array := make([]int, 100)
for i := 0; i < 100; i++ {
	array = append(array, i + 1)
}

// good example ✅
var ARRAY_SIZE int = 100
array := make([]int, ARRAY_SIZE)
for i := 0; i < ARRAY_SIZE; i++ {
	array = append(array, i + 1)
}

```

3. Переносите все числа, которые не будут меняться по вашему мнению, в константы

Общее правило для числовых констант в коде - выносите такие числа в константы, так код будет яснее и нагляднее, а когда все-таки придется поменять значение константы, то вам будет это сделать проще, чем искать его по всему коду.
Если же вам приходится использовать, пусть и одно и то же значение в различных участках программы, но разное по смыслу, то необходимо объявлять такие значения в разные константы с ясными именами.

> Применение именованных констант — это способ «параметризации» программы, т. е. размещение в параметре некоторой характеристики, которая может измениться. В результате вам потребуется изменить его только в одном месте, а не по всему коду.

Задания:

Внесите 12 правок в свой код, в которых улучшите работу с константами, и напишите по каждой, что конкретно вы улучшили.


[5_example1.go](https://github.com/aaboyarchukov/clean_code/blob/master/lesson8/5_example1.go)

```go
CONST_17 - HASH_1_KOEFF
// для одной из хэш-функций необходимо было использовать константу
// для этого можно было использовать случчайное число, было выбрано 17,
// но число можно выбрать любое, поэтому необходимо переименовать константу
// в более ясное и понятное имя, которое не придется менять со временем

CONST_223 - HASH_2_KOEFF
// для одной из хэш-функций необходимо было использовать константу
// для этого можно было использовать случчайное число, было выбрано 223,
// но число можно выбрать любое, поэтому необходимо переименовать константу
// в более ясное и понятное имя, которое не придется менять со временем

NUMBER - HASH_KOEFF
// для одной из хэш-функций необходимо было использовать константу
// для этого можно было использовать случчайное число, константа до 
// этого называлась неинформативно, поэтому необходимо переименовать ее

2 - MIN_EXCEL_ROW_LEN
// в данном случае мы избавились от магичсекого числа,
// оно означало минимальную допустимую длину строки при считывании файла excel
// длина в количестве элементов в строке excel

0 - INDX_OF_VALUE_IN_MAP
// в данном случае мы избавились от магичсекого числа,
// оно означало индекс значения в массиве, который хранится в словаре

0 - CELL_FOR_NAME
1 - CELL_FOR_UNITS
2 - CELL_FOR_COUNT
3 - CELL_FOR_DELIVERY
4 - CELL_FOR_SPECIFICATION
5 - CELL_FOR_ARTICLE_NUMBER
6 - CELL_FOR_DEADLINE
7 - CELL_FOR_PAYMENT_DATE
8 - CELL_FOR_PRICE
9 - CELL_FOR_COST
// в данных случаях мы избавились от магичсеких чисел, внеся ясность в код
// каждое сичло до этого означало индекс в массиве, который был получен
// после прочтения excel файла разделив его на нужные колонки
```